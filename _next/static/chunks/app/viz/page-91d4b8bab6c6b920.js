(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{19245:(e,l,a)=>{Promise.resolve().then(a.bind(a,99760)),Promise.resolve().then(a.bind(a,90030)),Promise.resolve().then(a.bind(a,56661)),Promise.resolve().then(a.t.bind(a,6874,23))},90030:(e,l,a)=>{"use strict";a.d(l,{default:()=>w});var t=a(95155),r=a(12115),n=a(30128),s=a(77395),i=a(61916),o=a(84520),c=a(1493),d=a(54760),u=a(51519),m=a(4885),h=a(60288),f=a(11665),v=a(72100),x=a(51440),p=(0,h.Rf)((e,l)=>{let{Component:a,domRef:n,context:s,children:i,classNames:o,getButtonGroupProps:c}=function(e){var l,a;let t=(0,m.o)(),[n,s]=(0,h.rE)(e,u.G.variantKeys),{ref:i,as:o,children:c,color:d="default",size:x="md",variant:p="solid",radius:b,isDisabled:g=!1,isIconOnly:j=!1,disableRipple:y=null!=(l=null==t?void 0:t.disableRipple)&&l,disableAnimation:w=null!=(a=null==t?void 0:t.disableAnimation)&&a,className:k,...N}=n,C=(0,f.zD)(i),E=(0,r.useMemo)(()=>(0,u.G)({...s,className:k}),[(0,v.t6)(s),k]),z=(0,r.useMemo)(()=>({size:x,color:d,variant:p,radius:b,isIconOnly:j,isDisabled:g,disableAnimation:w,disableRipple:y,fullWidth:!!(null==e?void 0:e.fullWidth)}),[x,d,p,b,g,j,w,y,null==e?void 0:e.fullWidth]);return{Component:o||"div",children:c,domRef:C,context:z,classNames:E,getButtonGroupProps:(0,r.useCallback)(()=>({role:"group",...N}),[N])}}({...e,ref:l});return(0,t.jsx)(x.l,{value:s,children:(0,t.jsx)(a,{ref:n,className:o,...c(),children:i})})});p.displayName="HeroUI.ButtonGroup";var b=a(93609),g=a(97376),j=a(12515),y=a(90748);function w(e){var l,a,u,m,h,f,v,x,w,k,N,C,E,z,T,S;let{media:D}=e,[F,L]=(0,r.useState)(!1),[P,M]=(0,r.useState)(0),[W,_]=(0,r.useState)(1),[q,A]=(0,r.useState)(!1),[I,O]=(0,r.useState)(!1),[R,G]=(0,r.useState)(new Set),Z=(0,r.useRef)(null),B=(0,r.useRef)(null);(0,r.useEffect)(()=>{F||(_(1),A(!1),O(!1))},[F]);let V=(0,r.useCallback)(e=>{try{M(e),_(1),O(!0),L(!0),G(new Set)}catch(e){console.error("Error opening lightbox:",e)}},[]),X=(0,r.useCallback)(()=>{try{L(!1)}catch(e){console.error("Error closing lightbox:",e)}},[]),Y=(0,r.useCallback)(()=>{try{M(e=>(e-1+D.length)%D.length),_(1),O(!0)}catch(e){console.error("Error navigating previous:",e)}},[D.length]),H=(0,r.useCallback)(()=>{try{M(e=>(e+1)%D.length),_(1),O(!0)}catch(e){console.error("Error navigating next:",e)}},[D.length]),K=(0,r.useCallback)(e=>{if(F)try{switch(e.key){case"ArrowLeft":e.preventDefault(),Y();break;case"ArrowRight":e.preventDefault(),H();break;case"Escape":e.preventDefault(),X()}}catch(e){console.error("Error handling keyboard event:",e)}},[F,Y,H,X]);(0,r.useEffect)(()=>(window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)),[K]),(0,r.useEffect)(()=>{F&&Z.current&&Z.current.focus()},[F]);let U=(0,r.useCallback)(()=>{try{let l=Z.current;if(!l)return;if(document.fullscreenElement)document.exitFullscreen();else{var e;null==(e=l.requestFullscreen)||e.call(l)}}catch(e){console.error("Error toggling fullscreen:",e)}},[]),J=(0,r.useCallback)(()=>{O(!1)},[]),Q=(0,r.useCallback)(e=>{G(l=>new Set(l).add(e)),O(!1)},[]),$=(0,r.useCallback)((e,l)=>{l.preventDefault(),l.stopPropagation(),l.detail>1||V(e)},[V]),ee=e=>{let{children:l,onClick:a,active:r,size:n="w-full"}=e;return(0,t.jsx)("div",{onClick:a,className:"\n        relative cursor-pointer flex-shrink-0 ".concat(n,"\n        aspect-[4/3] overflow-hidden rounded-md transition\n        ").concat(r?"ring-2 ring-offset-1 ring-primary":"opacity-100 hover:opacity-80","\n      "),children:l})};return Array.isArray(D)&&0!==D.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:D.map((e,l)=>{var a,r,s;return(0,t.jsx)(ee,{onClick:e=>$(l,e),active:l===P,children:"image"===e.type?(0,t.jsx)(n.W,{src:e.src,alt:null!=(a=e.title)?a:"Image ".concat(l+1),radius:"md",shadow:"md",isZoomed:!0,loading:"lazy",fallbackSrc:"https://via.placeholder.com/300x225",onLoad:()=>J(),onError:()=>Q(l),classNames:{img:"object-cover w-full h-full",wrapper:"w-full h-full"}}):(0,t.jsx)("img",{src:null!=(r=e.thumbnail)?r:"https://via.placeholder.com/300x225",alt:null!=(s=e.title)?s:"Media ".concat(l+1),className:"object-cover w-full h-full rounded-md",onLoad:()=>J(),onError:()=>Q(l)})},"thumb-".concat(l,"-").concat(e.src))})}),(0,t.jsx)(s.Y,{isOpen:F,onOpenChange:L,size:"5xl",radius:"md",shadow:"md",backdrop:"blur",placement:"center",isDismissable:!0,"aria-modal":"true",role:"dialog","aria-labelledby":"lightbox-header",hideCloseButton:!0,ref:B,children:(0,t.jsxs)(i.g,{className:"relative",children:[(0,t.jsx)(o.c,{id:"lightbox-header",className:"flex justify-between items-start py-2",children:(0,t.jsxs)("div",{className:"text-gray-400 font-medium",children:["Media ",P+1," of ",D.length]})}),(0,t.jsxs)(c.h,{className:"relative flex justify-center items-center py-2",children:[I&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:(0,t.jsx)(d.o,{size:"lg"})}),(0,t.jsxs)(p,{className:"flex z-20 gap-1",size:"sm",children:[(null==(l=D[P])?void 0:l.type)==="image"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.T,{"aria-label":"Zoom in",variant:"flat",onClick:()=>_(e=>Math.min(e+.2,3)),children:(0,t.jsx)(j.EO9,{size:22})}),(0,t.jsx)(b.T,{"aria-label":"Zoom out",variant:"flat",onClick:()=>_(e=>Math.max(e-.2,.5)),children:(0,t.jsx)(j.f5Z,{size:22})})]}),(0,t.jsx)(b.T,{"aria-label":"Fullscreen",variant:"flat",onClick:U,children:(0,t.jsx)(j.X8T,{size:22})}),((null==(a=D[P])?void 0:a.type)==="image"||(null==(u=D[P])?void 0:u.type)==="video")&&(0,t.jsx)(b.T,{"aria-label":"Download",variant:"flat",children:(0,t.jsx)("a",{href:null==(m=D[P])?void 0:m.src,download:"media-".concat(P+1),children:(0,t.jsx)(y.qqM,{size:22})})}),(0,t.jsx)(b.T,{"aria-label":"Toggle captions",variant:"flat",onClick:()=>A(e=>!e),children:(0,t.jsx)(j.iaF,{size:22})}),(0,t.jsx)(b.T,{"aria-label":"Close",variant:"flat",onClick:X,children:(0,t.jsx)(y.qpF,{size:22})})]}),(0,t.jsxs)("div",{ref:Z,tabIndex:-1,className:"relative max-h-[70vh] flex items-center justify-center w-full outline-none",children:[(0,t.jsx)(b.T,{onClick:Y,variant:"flat","aria-label":"Previous",className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10",children:"◀ Prev"}),(null==(h=D[P])?void 0:h.type)==="image"&&(0,t.jsx)("img",{src:null==(f=D[P])?void 0:f.src,alt:null!=(z=null==(v=D[P])?void 0:v.title)?z:"Image ".concat(P+1),style:{transform:"scale(".concat(W,")")},className:"transition-transform max-h-[70vh] w-auto object-contain rounded-md",onLoad:()=>O(!1),onError:()=>{Q(P),O(!1)}}),(null==(x=D[P])?void 0:x.type)==="video"&&(0,t.jsx)("video",{src:null==(w=D[P])?void 0:w.src,controls:!0,className:"max-h-[70vh] w-auto object-contain rounded-md",onLoadedData:()=>O(!1),onError:()=>{Q(P),O(!1)}}),(null==(k=D[P])?void 0:k.type)==="youtube"&&(0,t.jsx)("iframe",{src:null==(N=D[P])?void 0:N.src,title:null!=(T=null==(C=D[P])?void 0:C.title)?T:"YouTube Video ".concat(P+1),className:"w-[80vw] h-[70vh] rounded-md",allowFullScreen:!0,onLoad:()=>O(!1)}),q&&(0,t.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/60 text-white text-sm px-3 py-1 rounded-md",children:null!=(S=null==(E=D[P])?void 0:E.title)?S:"Caption for media ".concat(P+1)}),(0,t.jsx)(b.T,{onClick:H,variant:"flat","aria-label":"Next",className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10",children:"Next ▶"})]})]}),(0,t.jsx)(g.q,{className:"flex flex-col gap-4 pt-4 items-center",children:(0,t.jsx)("div",{className:"relative w-full max-w-xl overflow-hidden",children:(0,t.jsx)("div",{className:"w-full overflow-hidden",children:(0,t.jsx)("div",{className:"flex gap-2 transition-transform duration-500 ease-in-out px-6",style:{transform:"translateX(-".concat(100*P,"px)")},children:D.map((e,l)=>{var a,r,s;return(0,t.jsx)("div",{onClick:()=>M(l),role:"button",tabIndex:0,"aria-label":"View media ".concat(l+1),className:"flex-shrink-0 w-[100px] aspect-[4/3] overflow-hidden rounded-md cursor-pointer transition-all ".concat(l===P?"ring-2 ring-offset-1 ring-primary scale-105":"opacity-70 hover:opacity-100"),children:"image"===e.type?(0,t.jsx)(n.W,{src:e.src,alt:null!=(a=e.title)?a:"Thumb ".concat(l+1),radius:"sm",loading:"lazy",disableSkeleton:!0,classNames:{img:"object-cover w-full h-full",wrapper:"w-full h-full"},removeWrapper:!0}):(0,t.jsx)("img",{src:null!=(r=e.thumbnail)?r:"",alt:null!=(s=e.title)?s:"Thumb ".concat(l+1),className:"object-cover w-full h-full"})},"footer-thumb-".concat(l,"-").concat(e.src))})})})})})]})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center p-8 text-gray-500",children:"No media available"})}}},e=>{e.O(0,[506,711,520,479,204,206,609,293,648,234,441,964,358],()=>e(e.s=19245)),_N_E=e.O()}]);